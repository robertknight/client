<footer class="annotation-footer">
    <div class="annotation-form-actions" ng-if="vm.editing()">
      <publish-annotation-btn
        class="publish-annotation-btn"
        group="vm.group()"
        can-post="vm.hasContent()"
        is-shared="vm.isShared()"
        on-cancel="vm.revert()"
        on-save="vm.save()"
        on-set-privacy="vm.setPrivacy(level)"></publish-annotation-btn>
    </div>

    <div class="annotation-section annotation-license"
         ng-show="vm.shouldShowLicense()">
      <a class="annotation-license__link" href="http://creativecommons.org/publicdomain/zero/1.0/"
        title="View more information about the Creative Commons Public Domain dedication"
        target="_blank">
        <i class="h-icon-cc-logo"></i><i class="h-icon-cc-zero"></i>
        Annotations can be freely reused by anyone for any purpose.
      </a>
    </div>

    <div class="annotation-replies" ng-if="!vm.isReply() && vm.replyCount > 0">
      <a href=""
        ng-click="vm.onReplyCountClick()">
        <span class="annotation-replies__link">{{ vm.isCollapsed ? 'Show replies' : 'Hide replies' }}</span>
        <span class="annotation-replies__count">({{ vm.replyCount }})</span>
      </a>
    </div>

    <div class="annotation-actions" ng-if="vm.isSaving">
      Saving...
    </div>

    <div class="annotation-actions" ng-if="!vm.isSaving && !vm.editing() && vm.id()">
      <div ng-show="vm.isSaving">Savingâ€¦</div>
      <annotation-action-button
        icon="'h-icon-annotation-edit'"
        is-disabled="vm.isDeleted()"
        label="'Edit'"
        ng-show="vm.authorize('update') && !vm.isSaving"
        on-click="vm.edit()"
      ></annotation-action-button>
      <annotation-action-button
        icon="'h-icon-annotation-delete'"
        is-disabled="vm.isDeleted()"
        label="'Delete'"
        ng-show="vm.authorize('delete')"
        on-click="vm.delete()"
      ></annotation-action-button>
      <annotation-action-button
        icon="'h-icon-annotation-reply'"
        is-disabled="vm.isDeleted()"
        label="'Reply'"
        on-click="vm.reply()"
      ></annotation-action-button>
      <span class="annotation-share-dialog-wrapper">
        <annotation-action-button
         icon="'h-icon-annotation-share'"
         is-disabled="vm.isDeleted()"
         label="'Share'"
         on-click="vm.showShareDialog = true"
        ></annotation-action-button>
        <annotation-share-dialog
          group="vm.group()"
          uri="vm.incontextLink()"
          is-private="vm.state().isPrivate"
          is-open="vm.showShareDialog"
          on-close="vm.showShareDialog = false">
        </annotation-share-dialog>
      </span>
      <span ng-if="vm.canFlag()">
        <annotation-action-button
         icon="'h-icon-annotation-flag'"
         is-disabled="vm.isDeleted()"
         label="'Flag'"
         ng-if="!vm.isFlagged()"
         on-click="vm.flag()"
        ></annotation-action-button>
        <annotation-action-button
         icon="'h-icon-annotation-flag annotation--flagged'"
         is-disabled="vm.isDeleted()"
         label="'Annotation has been flagged'"
         ng-if="vm.isFlagged()"
        ></annotation-action-button>
      </span>
    </div>
  </footer>
